{"ast":null,"code":"var _jsxFileName = \"/home/indrajeetyadav/my-spreadsheet/src/components/Spreadsheet.js\",\n  _s = $RefreshSig$();\n// components/Spreadsheet.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useSpreadsheet } from '../hooks/useSpreadsheet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROWS = 100;\nconst COLS = 26;\nconst Spreadsheet = () => {\n  _s();\n  const {\n    cells,\n    updateCell,\n    searchTerm\n  } = useSpreadsheet();\n  const [selectedCell, setSelectedCell] = useState(null);\n  const spreadsheetRef = useRef(null);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (selectedCell && !e.ctrlKey && !e.metaKey) {\n        const [row, col] = selectedCell;\n        switch (e.key) {\n          case 'ArrowUp':\n            setSelectedCell([Math.max(0, row - 1), col]);\n            break;\n          case 'ArrowDown':\n            setSelectedCell([Math.min(ROWS - 1, row + 1), col]);\n            break;\n          case 'ArrowLeft':\n            setSelectedCell([row, Math.max(0, col - 1)]);\n            break;\n          case 'ArrowRight':\n            setSelectedCell([row, Math.min(COLS - 1, col + 1)]);\n            break;\n          default:\n            break;\n        }\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedCell]);\n  const getCellId = (row, col) => `${String.fromCharCode(65 + col)}${row + 1}`;\n  const renderCell = (row, col) => {\n    const cellId = getCellId(row, col);\n    const isSelected = selectedCell && selectedCell[0] === row && selectedCell[1] === col;\n    const cellData = cells[cellId] || {\n      value: '',\n      style: {}\n    };\n    return /*#__PURE__*/_jsxDEV(\"td\", {\n      className: `border border-gray-300 p-1 ${isSelected ? 'bg-blue-100' : ''}`,\n      onClick: () => setSelectedCell([row, col]),\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: cellData.value,\n        onChange: e => updateCell(cellId, {\n          value: e.target.value\n        }),\n        className: \"w-full h-full outline-none bg-transparent\",\n        style: cellData.style\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, cellId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  };\n  const renderColumnHeaders = () => /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n      className: \"sticky top-0 left-0 z-10 bg-gray-100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), Array.from({\n      length: COLS\n    }, (_, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n      className: \"sticky top-0 z-10 bg-gray-100 text-center py-2\",\n      children: String.fromCharCode(65 + i)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n\n  // Filter cells based on search term\n  const filteredCells = Object.keys(cells).filter(cellId => cells[cellId].value.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overflow-auto h-full\",\n    ref: spreadsheetRef,\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"border-collapse\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: renderColumnHeaders()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Array.from({\n          length: ROWS\n        }, (_, row) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"sticky left-0 z-10 bg-gray-100 text-center py-1 px-2\",\n            children: row + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), Array.from({\n            length: COLS\n          }, (_, col) => {\n            const cellId = getCellId(row, col);\n            if (filteredCells.includes(cellId)) {\n              return renderCell(row, col);\n            }\n            return null;\n          })]\n        }, row, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(Spreadsheet, \"tNumGG+yzbHcMo+6rl38WhO5byM=\", false, function () {\n  return [useSpreadsheet];\n});\n_c = Spreadsheet;\nexport default Spreadsheet;\nvar _c;\n$RefreshReg$(_c, \"Spreadsheet\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useSpreadsheet","jsxDEV","_jsxDEV","ROWS","COLS","Spreadsheet","_s","cells","updateCell","searchTerm","selectedCell","setSelectedCell","spreadsheetRef","handleKeyDown","e","ctrlKey","metaKey","row","col","key","Math","max","min","window","addEventListener","removeEventListener","getCellId","String","fromCharCode","renderCell","cellId","isSelected","cellData","value","style","className","onClick","children","type","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","renderColumnHeaders","Array","from","length","_","i","filteredCells","Object","keys","filter","toLowerCase","includes","ref","_c","$RefreshReg$"],"sources":["/home/indrajeetyadav/my-spreadsheet/src/components/Spreadsheet.js"],"sourcesContent":["// components/Spreadsheet.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useSpreadsheet } from '../hooks/useSpreadsheet';\n\nconst ROWS = 100;\nconst COLS = 26;\n\nconst Spreadsheet = () => {\n  const { cells, updateCell, searchTerm } = useSpreadsheet();\n  const [selectedCell, setSelectedCell] = useState(null);\n  const spreadsheetRef = useRef(null);\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (selectedCell && !e.ctrlKey && !e.metaKey) {\n        const [row, col] = selectedCell;\n        switch (e.key) {\n          case 'ArrowUp':\n            setSelectedCell([Math.max(0, row - 1), col]);\n            break;\n          case 'ArrowDown':\n            setSelectedCell([Math.min(ROWS - 1, row + 1), col]);\n            break;\n          case 'ArrowLeft':\n            setSelectedCell([row, Math.max(0, col - 1)]);\n            break;\n          case 'ArrowRight':\n            setSelectedCell([row, Math.min(COLS - 1, col + 1)]);\n            break;\n          default:\n            break;\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedCell]);\n\n  const getCellId = (row, col) => `${String.fromCharCode(65 + col)}${row + 1}`;\n\n  const renderCell = (row, col) => {\n    const cellId = getCellId(row, col);\n    const isSelected = selectedCell && selectedCell[0] === row && selectedCell[1] === col;\n    const cellData = cells[cellId] || { value: '', style: {} };\n\n    return (\n      <td\n        key={cellId}\n        className={`border border-gray-300 p-1 ${isSelected ? 'bg-blue-100' : ''}`}\n        onClick={() => setSelectedCell([row, col])}\n      >\n        <input\n          type=\"text\"\n          value={cellData.value}\n          onChange={(e) => updateCell(cellId, { value: e.target.value })}\n          className=\"w-full h-full outline-none bg-transparent\"\n          style={cellData.style}\n        />\n      </td>\n    );\n  };\n\n  const renderColumnHeaders = () => (\n    <tr>\n      <th className=\"sticky top-0 left-0 z-10 bg-gray-100\"></th>\n      {Array.from({ length: COLS }, (_, i) => (\n        <th key={i} className=\"sticky top-0 z-10 bg-gray-100 text-center py-2\">\n          {String.fromCharCode(65 + i)}\n        </th>\n      ))}\n    </tr>\n  );\n\n  // Filter cells based on search term\n  const filteredCells = Object.keys(cells).filter(cellId => \n    cells[cellId].value.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"overflow-auto h-full\" ref={spreadsheetRef}>\n      <table className=\"border-collapse\">\n        <thead>{renderColumnHeaders()}</thead>\n        <tbody>\n          {Array.from({ length: ROWS }, (_, row) => (\n            <tr key={row}>\n              <th className=\"sticky left-0 z-10 bg-gray-100 text-center py-1 px-2\">{row + 1}</th>\n              {Array.from({ length: COLS }, (_, col) => {\n                const cellId = getCellId(row, col);\n                if (filteredCells.includes(cellId)) {\n                  return renderCell(row, col);\n                }\n                return null;\n              })}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Spreadsheet;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,cAAc,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,IAAI,GAAG,GAAG;AAChB,MAAMC,IAAI,GAAG,EAAE;AAEf,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC,KAAK;IAAEC,UAAU;IAAEC;EAAW,CAAC,GAAGT,cAAc,CAAC,CAAC;EAC1D,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAMe,cAAc,GAAGd,MAAM,CAAC,IAAI,CAAC;EAEnCC,SAAS,CAAC,MAAM;IACd,MAAMc,aAAa,GAAIC,CAAC,IAAK;MAC3B,IAAIJ,YAAY,IAAI,CAACI,CAAC,CAACC,OAAO,IAAI,CAACD,CAAC,CAACE,OAAO,EAAE;QAC5C,MAAM,CAACC,GAAG,EAAEC,GAAG,CAAC,GAAGR,YAAY;QAC/B,QAAQI,CAAC,CAACK,GAAG;UACX,KAAK,SAAS;YACZR,eAAe,CAAC,CAACS,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEJ,GAAG,GAAG,CAAC,CAAC,EAAEC,GAAG,CAAC,CAAC;YAC5C;UACF,KAAK,WAAW;YACdP,eAAe,CAAC,CAACS,IAAI,CAACE,GAAG,CAACnB,IAAI,GAAG,CAAC,EAAEc,GAAG,GAAG,CAAC,CAAC,EAAEC,GAAG,CAAC,CAAC;YACnD;UACF,KAAK,WAAW;YACdP,eAAe,CAAC,CAACM,GAAG,EAAEG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAC5C;UACF,KAAK,YAAY;YACfP,eAAe,CAAC,CAACM,GAAG,EAAEG,IAAI,CAACE,GAAG,CAAClB,IAAI,GAAG,CAAC,EAAEc,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YACnD;UACF;YACE;QACJ;MACF;IACF,CAAC;IAEDK,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEX,aAAa,CAAC;IACjD,OAAO,MAAMU,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEZ,aAAa,CAAC;EACnE,CAAC,EAAE,CAACH,YAAY,CAAC,CAAC;EAElB,MAAMgB,SAAS,GAAGA,CAACT,GAAG,EAAEC,GAAG,KAAK,GAAGS,MAAM,CAACC,YAAY,CAAC,EAAE,GAAGV,GAAG,CAAC,GAAGD,GAAG,GAAG,CAAC,EAAE;EAE5E,MAAMY,UAAU,GAAGA,CAACZ,GAAG,EAAEC,GAAG,KAAK;IAC/B,MAAMY,MAAM,GAAGJ,SAAS,CAACT,GAAG,EAAEC,GAAG,CAAC;IAClC,MAAMa,UAAU,GAAGrB,YAAY,IAAIA,YAAY,CAAC,CAAC,CAAC,KAAKO,GAAG,IAAIP,YAAY,CAAC,CAAC,CAAC,KAAKQ,GAAG;IACrF,MAAMc,QAAQ,GAAGzB,KAAK,CAACuB,MAAM,CAAC,IAAI;MAAEG,KAAK,EAAE,EAAE;MAAEC,KAAK,EAAE,CAAC;IAAE,CAAC;IAE1D,oBACEhC,OAAA;MAEEiC,SAAS,EAAE,8BAA8BJ,UAAU,GAAG,aAAa,GAAG,EAAE,EAAG;MAC3EK,OAAO,EAAEA,CAAA,KAAMzB,eAAe,CAAC,CAACM,GAAG,EAAEC,GAAG,CAAC,CAAE;MAAAmB,QAAA,eAE3CnC,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXL,KAAK,EAAED,QAAQ,CAACC,KAAM;QACtBM,QAAQ,EAAGzB,CAAC,IAAKN,UAAU,CAACsB,MAAM,EAAE;UAAEG,KAAK,EAAEnB,CAAC,CAAC0B,MAAM,CAACP;QAAM,CAAC,CAAE;QAC/DE,SAAS,EAAC,2CAA2C;QACrDD,KAAK,EAAEF,QAAQ,CAACE;MAAM;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB;IAAC,GAVGd,MAAM;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAWT,CAAC;EAET,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAAA,kBAC1B3C,OAAA;IAAAmC,QAAA,gBACEnC,OAAA;MAAIiC,SAAS,EAAC;IAAsC;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EACzDE,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE5C;IAAK,CAAC,EAAE,CAAC6C,CAAC,EAAEC,CAAC,kBACjChD,OAAA;MAAYiC,SAAS,EAAC,gDAAgD;MAAAE,QAAA,EACnEV,MAAM,CAACC,YAAY,CAAC,EAAE,GAAGsB,CAAC;IAAC,GADrBA,CAAC;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEN,CACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CACL;;EAED;EACA,MAAMO,aAAa,GAAGC,MAAM,CAACC,IAAI,CAAC9C,KAAK,CAAC,CAAC+C,MAAM,CAACxB,MAAM,IACpDvB,KAAK,CAACuB,MAAM,CAAC,CAACG,KAAK,CAACsB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC/C,UAAU,CAAC8C,WAAW,CAAC,CAAC,CACrE,CAAC;EAED,oBACErD,OAAA;IAAKiC,SAAS,EAAC,sBAAsB;IAACsB,GAAG,EAAE7C,cAAe;IAAAyB,QAAA,eACxDnC,OAAA;MAAOiC,SAAS,EAAC,iBAAiB;MAAAE,QAAA,gBAChCnC,OAAA;QAAAmC,QAAA,EAAQQ,mBAAmB,CAAC;MAAC;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtC1C,OAAA;QAAAmC,QAAA,EACGS,KAAK,CAACC,IAAI,CAAC;UAAEC,MAAM,EAAE7C;QAAK,CAAC,EAAE,CAAC8C,CAAC,EAAEhC,GAAG,kBACnCf,OAAA;UAAAmC,QAAA,gBACEnC,OAAA;YAAIiC,SAAS,EAAC,sDAAsD;YAAAE,QAAA,EAAEpB,GAAG,GAAG;UAAC;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EAClFE,KAAK,CAACC,IAAI,CAAC;YAAEC,MAAM,EAAE5C;UAAK,CAAC,EAAE,CAAC6C,CAAC,EAAE/B,GAAG,KAAK;YACxC,MAAMY,MAAM,GAAGJ,SAAS,CAACT,GAAG,EAAEC,GAAG,CAAC;YAClC,IAAIiC,aAAa,CAACK,QAAQ,CAAC1B,MAAM,CAAC,EAAE;cAClC,OAAOD,UAAU,CAACZ,GAAG,EAAEC,GAAG,CAAC;YAC7B;YACA,OAAO,IAAI;UACb,CAAC,CAAC;QAAA,GARKD,GAAG;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASR,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAACtC,EAAA,CA7FID,WAAW;EAAA,QAC2BL,cAAc;AAAA;AAAA0D,EAAA,GADpDrD,WAAW;AA+FjB,eAAeA,WAAW;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}